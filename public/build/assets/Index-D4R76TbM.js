import{r as i,j as e,H as b,L as g}from"./app-B2QCHc5d.js";import{B as d}from"./button-DxsLSi_n.js";import{I as u}from"./input-DGy-HeZR.js";import{W as N,m as f}from"./WebLayout-1bSI9WiM.js";import{S as y}from"./search-DwLpxLcK.js";import{U as v}from"./user-DJeODuLQ.js";import{C as k}from"./calendar-DvayLz79.js";import{A as w}from"./arrow-right-DIrDIWCS.js";/* empty css            */import"./createLucideIcon-CYahJQZU.js";import"./use-mobile-8dOiAHf3.js";import"./index-Bd_l7Eb8.js";import"./index-wTBGWor2.js";import"./index-CAcRUttx.js";import"./floating-ui.react-dom-B2BF2PCz.js";import"./chevron-down-DnDW9sns.js";const U=({blogPosts:t,allCat:j})=>{const[S,C]=i.useState(!1),[n,m]=i.useState(""),[o,x]=i.useState("all"),[p,l]=i.useState(""),c="/images/logo.png";i.useEffect(()=>{let a;if(Array.isArray(t)&&t.length>0){const s=t.map(r=>r?.image?.trim()).filter(r=>r);s.length>1?(l(s[Math.floor(Math.random()*s.length)]),a=setInterval(()=>{const r=s[Math.floor(Math.random()*s.length)];l(r)},3e3)):l(s[0]||c)}else l(c);return()=>{a&&clearInterval(a)}},[t]),i.useMemo(()=>["all",...Array.from(new Set(t.map(a=>a.category)))],[t]);const h=t.filter(a=>{const s=a.title.toLowerCase().includes(n.toLowerCase())||a.description.toLowerCase().includes(n.toLowerCase()),r=o==="all"||a.category.name===o;return s&&r});return e.jsxs(N,{children:[e.jsx(b,{title:"Blogs"}),e.jsx("style",{children:`
				.team-hero-bg {
					background-image: linear-gradient(
							to right,
							rgba(0, 70, 173, 0.85),
							rgba(0, 160, 233, 0.85)
						),
						url(${p});
					background-size: cover;
					background-position: center;
				}
			`}),e.jsxs("div",{children:[e.jsx("section",{className:"team-hero-bg text-white py-20 pt-32",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"max-w-3xl",children:[e.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-6",children:"Our Blog"}),e.jsx("p",{className:"text-xl text-white/90",children:"Insights, news, and knowledge-sharing from O.K. Isokariari Nigeria Limited's experts on engineering, construction, and industry trends."})]})})}),e.jsx("section",{className:"py-8 bg-oki-gray-light",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center justify-between",children:[e.jsxs("div",{className:"relative w-full md:max-w-md",children:[e.jsx(y,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500",size:18}),e.jsx(u,{type:"text",placeholder:"Search articles...",className:"pl-10",value:n,onChange:a=>m(a.target.value)})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:j.map(a=>e.jsx(d,{variant:"ghost",className:`border ${o===a.name?"bg-oki-blue-dark text-white border-oki-blue-dark":"bg-white text-oki-gray-dark border-gray-300 hover:bg-oki-blue-dark/10"}`,onClick:()=>x(a.name),children:a.name},a.name))})]})})}),e.jsx("section",{className:"py-16",children:e.jsx("div",{className:"container mx-auto px-4",children:h.length>0?e.jsx(f.div,{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",initial:"hidden",animate:"show",variants:{hidden:{},show:{transition:{staggerChildren:.15}}},children:h.map(a=>e.jsxs(f.article,{variants:{hidden:{opacity:0,y:30},show:{opacity:1,y:0}},transition:{duration:.5},className:"bg-white rounded-lg overflow-hidden shadow-md hover:shadow-lg transition-shadow flex flex-col",children:[e.jsx("div",{className:"h-48 overflow-hidden",children:e.jsx("img",{src:a.image||c,alt:a.title,className:"w-full h-full object-cover transition-transform duration-500 hover:scale-105"})}),e.jsxs("div",{className:"p-6 flex-grow flex flex-col",children:[e.jsx("div",{className:"mb-3",children:e.jsx("span",{className:"bg-oki-gray-light text-oki-gray-dark text-xs px-3 py-1 rounded-full",children:a.category.name})}),e.jsx("h2",{className:"text-xl font-bold mb-3 text-oki-gray-dark",children:e.jsx(g,{href:`/blogs/${a.slug}`,className:"hover:text-oki-blue-dark transition-colors",children:a.title})}),e.jsx("p",{className:"text-gray-600 mb-4 flex-grow",children:a.description}),e.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500 mb-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(v,{size:14,className:"mr-1"}),e.jsx("span",{children:a.user.name})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(k,{size:14,className:"mr-1"}),e.jsx("span",{children:new Date(a.created_at).toLocaleDateString()})]})]}),e.jsxs(g,{href:`/blogs/${a.slug}`,className:"flex items-center text-oki-blue-dark font-medium hover:text-oki-blue-light transition-colors mt-auto",children:[e.jsx("span",{children:"Read More"}),e.jsx(w,{size:16,className:"ml-2"})]})]})]},a.id))}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx("h3",{className:"text-2xl font-semibold text-oki-gray-dark mb-4",children:"No posts found"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"We couldn't find any blog posts matching your search criteria."}),e.jsx(d,{variant:"outline",className:"border-oki-blue-dark text-oki-blue-dark hover:bg-oki-blue-dark hover:text-white",onClick:()=>{m(""),x("all")},children:"Clear Filters"})]})})}),e.jsx("section",{className:"py-16 bg-oki-gray-light",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"max-w-2xl mx-auto text-center",children:[e.jsx("h2",{className:"text-3xl font-bold mb-6 text-oki-gray-dark",children:"Subscribe to Our Newsletter"}),e.jsx("p",{className:"text-gray-600 mb-8",children:"Stay updated with the latest industry insights, company news, and project highlights delivered directly to your inbox."}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsx(u,{type:"email",placeholder:"Your email address",className:"flex-grow"}),e.jsx(d,{className:"bg-oki-blue-dark hover:bg-oki-blue-light text-white",children:"Subscribe"})]})]})})})]})]})};export{U as default};
