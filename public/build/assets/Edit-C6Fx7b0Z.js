import{u as N,r as S,j as e,H as C}from"./app-B2QCHc5d.js";import{T as w}from"./tiptap-CGasFceO.js";import{I as r}from"./input-error-B6QUOPJY.js";import{B as y}from"./button-DxsLSi_n.js";import{I as c}from"./input-DGy-HeZR.js";import{L as m}from"./label-CRerH-Ix.js";import{S as F,a as I,b as k,c as E,d as T}from"./select-Rb_kPx8j.js";import{S as u}from"./switch-C1TIQMxe.js";import{T as A}from"./textarea-BxTynFlW.js";import{A as B}from"./AuthenticatedLayout-BXCuktK8.js";/* empty css            */import"./index-CAcRUttx.js";import"./index-CPeDhNm-.js";import"./floating-ui.react-dom-B2BF2PCz.js";import"./index-BdQq_4o_.js";import"./index-wTBGWor2.js";import"./index-Bd_l7Eb8.js";import"./createLucideIcon-CYahJQZU.js";import"./index-BCZ263KO.js";import"./app-layout-BBzhyi1Y.js";import"./use-mobile-8dOiAHf3.js";import"./index-CLwzaYiX.js";import"./briefcase-DxPtnSra.js";import"./users-C2PnkGXT.js";import"./user-DJeODuLQ.js";import"./chevron-right-C4ehdD6l.js";import"./chevron-down-DnDW9sns.js";import"./check-BKE5Hatw.js";import"./chevron-up-DWtG0jBc.js";function oe({auth:x,blog:t,categories:g}){const{data:i,setData:a,post:j,processing:n,errors:l,reset:v}=N({_method:"put",title:t.title,content:t.content,description:t.description,image:null,status:t.status,category_id:String(t.category_id),is_published:t.is_published,published_at:t.published_at||""}),f=`/storage/${t.image}`,[p,h]=S.useState(f||null),_=s=>{const d=s.target.files?.[0]||null;if(a("image",d),d){const o=new FileReader;o.onloadend=()=>{h(o.result)},o.readAsDataURL(d)}else h(null)},b=s=>{s.preventDefault(),j(route("admin.blogs.update",t.id),{onSuccess:()=>{v("image")}})};return e.jsxs(B,{user:x.user,header:e.jsx("h2",{className:"text-xl leading-tight font-semibold text-gray-800",children:"Edit Blog"}),children:[e.jsx(C,{title:"Edit Blog"}),e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"mx-auto max-w-7xl sm:px-6 lg:px-8",children:e.jsx("div",{className:"overflow-hidden bg-card p-6 shadow-sm sm:rounded-lg",children:e.jsxs("form",{onSubmit:b,className:"mt-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx(m,{htmlFor:"title",children:"Title"}),e.jsx(c,{id:"title",type:"text",name:"title",value:i.title,className:"mt-1 block w-full",autoComplete:"title",onChange:s=>a("title",s.target.value),required:!0}),e.jsx(r,{message:l.title,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(m,{htmlFor:"description",children:"Description"}),e.jsx(A,{id:"description",name:"description",value:i.description,className:"mt-1 block w-full",onChange:s=>a("description",s.target.value),required:!0,rows:5}),e.jsx(r,{message:l.description,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(m,{htmlFor:"content",children:"Content"}),e.jsx(w,{onChange:s=>a("content",s||""),description:i.content||""}),e.jsx(r,{message:l.content,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(m,{htmlFor:"image",children:"Image"}),e.jsx(c,{id:"image",type:"file",name:"image",className:"mt-1 block w-full",onChange:_,accept:"image/*"}),e.jsx(r,{message:l.image,className:"mt-2"}),p&&e.jsx("div",{className:"mt-4",children:e.jsx("img",{src:p,alt:"Image Preview",className:"h-auto max-w-xs rounded-md"})})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(u,{id:"status",checked:i.status,onCheckedChange:s=>a("status",s)}),e.jsx(m,{htmlFor:"status",children:"Status (Active/Inactive)"}),e.jsx(r,{message:l.status,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(m,{htmlFor:"category_id",children:"Category"}),e.jsxs(F,{onValueChange:s=>a("category_id",s),value:i.category_id,children:[e.jsx(I,{className:"w-full",children:e.jsx(k,{placeholder:"Select a category"})}),e.jsx(E,{children:g.map(s=>e.jsx(T,{value:String(s.id),children:s.name},s.id))})]}),e.jsx(r,{message:l.category_id,className:"mt-2"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(u,{id:"is_published",checked:i.is_published,onCheckedChange:s=>a("is_published",s)}),e.jsx(m,{htmlFor:"is_published",children:"Published"}),e.jsx(r,{message:l.is_published,className:"mt-2"})]}),i.is_published&&e.jsxs("div",{children:[e.jsx(m,{htmlFor:"published_at",children:"Published At"}),e.jsx(c,{id:"published_at",type:"datetime-local",name:"published_at",value:i.published_at,className:"mt-1 block w-full",onChange:s=>a("published_at",s.target.value)}),e.jsx(r,{message:l.published_at,className:"mt-2"})]}),e.jsx("div",{className:"flex items-center gap-4",children:e.jsx(y,{type:"submit",disabled:n,children:n?"Saving...":"Save Changes"})})]})})})})]})}export{oe as default};
