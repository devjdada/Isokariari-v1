import{r as j,u as v,j as e}from"./app-BDJzKkFP.js";import{L as t}from"./index-CfDnA0ZY.js";import{B as d}from"./button-4rrgNgaj.js";import{D as g,b as f,a as N,c as b,d as y}from"./dialog-DlDeRnPI.js";import{I as r}from"./input-D0oYOHD-.js";import{T as C}from"./textarea-BHVJCe5h.js";/* empty css            */import"./createLucideIcon-CgubSX4y.js";import"./index-D9e2VEw3.js";import"./index-BjgKvWmE.js";import"./floating-ui.react-dom-DbIr9Nq5.js";import"./index-BWgzpnhF.js";function B({job:n,label:p}){const[x,o]=j.useState(!1),{data:l,setData:i,post:m,processing:c,reset:h,errors:a}=v({job_listings_id:n.id,full_name:"",email:"",phone:"",pay:"",location:"",cover:"",cv:null,letter:null}),u=s=>{s.preventDefault(),console.log(l),m(route("applications.store"),{forceFormData:!0,onSuccess:()=>{h(),o(!1)}})};return e.jsxs(g,{open:x,onOpenChange:o,children:[e.jsx(f,{asChild:!0,children:n.id==="0"?e.jsx("span",{className:"inline-block cursor-pointer bg-white text-oki-blue-dark hover:bg-white/90 font-semibold px-8 py-4 rounded-md transition-colors",children:"Send Open Application"}):e.jsx(d,{className:"bg-oki-blue-dark hover:bg-oki-blue-light text-white",children:p})}),e.jsxs(N,{className:"sm:max-w-[600px]",children:[e.jsx(b,{children:e.jsxs(y,{children:["Apply for ",n.title]})}),e.jsxs("form",{onSubmit:u,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(t,{children:"Full Name"}),e.jsx(r,{value:l.full_name,onChange:s=>i("full_name",s.target.value)}),a.full_name&&e.jsx("div",{className:"text-red-500",children:a.full_name})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(t,{children:"Email"}),e.jsx(r,{type:"email",value:l.email,onChange:s=>i("email",s.target.value)}),a.email&&e.jsx("div",{className:"text-red-500",children:a.email})]}),e.jsxs("div",{children:[e.jsx(t,{children:"Phone"}),e.jsx(r,{value:l.phone,onChange:s=>i("phone",s.target.value)}),a.phone&&e.jsx("div",{className:"text-red-500",children:a.phone})]})]}),e.jsxs("div",{children:[e.jsx(t,{children:"Cover Letter"}),e.jsx(C,{value:l.cover,onChange:s=>i("cover",s.target.value)}),a.cover&&e.jsx("div",{className:"text-red-500",children:a.cover})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs(t,{children:["CV/Resume (PDF) ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(r,{type:"file",accept:"application/pdf",onChange:s=>i("cv",s.target.files?.[0]||null)}),a.cv&&e.jsx("div",{className:"text-red-500",children:a.cv})]}),e.jsxs("div",{children:[e.jsxs(t,{children:["Certifications (PDF) ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(r,{type:"file",accept:"application/pdf",onChange:s=>i("letter",s.target.files?.[0]||null)}),a.letter&&e.jsx("div",{className:"text-red-500",children:a.letter})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(t,{children:"Expected Pay"}),e.jsx(r,{type:"number",value:l.pay,onChange:s=>i("pay",s.target.value)}),a.pay&&e.jsx("div",{className:"text-red-500",children:a.pay})]}),e.jsxs("div",{children:[e.jsx(t,{children:"Current Location"}),e.jsx(r,{value:l.location,onChange:s=>i("location",s.target.value)}),a.location&&e.jsx("div",{className:"text-red-500",children:a.location})]})]}),e.jsx(d,{type:"submit",disabled:c||!l.cv||!l.letter,children:c?"Submitting...":"Submit Application"})]})]})]})}export{B as default};
