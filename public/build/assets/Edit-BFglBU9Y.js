import{u as N,r as y,j as e,H as b,a as g}from"./app-_SHXlIMi.js";import{T as w}from"./tiptap-pOzmqHF-.js";import{I as r}from"./input-error-BGG48Xue.js";import{B as C}from"./button-D90eb9uh.js";import{I as d}from"./input-if9ZDulC.js";import{L as l}from"./label-BbDwcLxf.js";import{A as F}from"./AuthenticatedLayout-CPCLZqyP.js";/* empty css            */import"./index-CNvgb3hZ.js";import"./index-Ri9twfyI.js";import"./floating-ui.react-dom-DzZXuo7M.js";import"./app-layout-DwKOLOaJ.js";import"./use-mobile-BmM3Cx0C.js";import"./index-DxYDQp86.js";import"./createLucideIcon-Cxr0x7Gx.js";import"./index-CE-JyWoC.js";import"./index-DYWYdy9I.js";import"./briefcase-3h3coz6E.js";import"./users-DG3kscKL.js";import"./user-DwfZl6oT.js";import"./chevron-right-B9kvcExf.js";function Q({auth:h,testimony:t}){const{data:m,setData:o,processing:p,errors:n,reset:E}=N({name:t.name,position:t.position||"",company:t.company||"",content:t.content,image:null}),j=t.image?`/storage/${t.image}`:null,[x,u]=y.useState(j),f=s=>{const i=s.target.files?.[0]||null;if(o("image",i),i){const a=new FileReader;a.onloadend=()=>{u(a.result)},a.readAsDataURL(i)}else u(null)},v=s=>{s.preventDefault();const i=new FormData;Object.entries(m).forEach(([a,c])=>{a==="image"&&c===null||c!=null&&i.append(a,c)}),i.append("_method","PUT"),g.post(route("admin.testimonies.update",t.id),i,{onSuccess:()=>{g.visit(route("admin.testimonies.index"))},onError:a=>{console.error("Form submission errors:",a)}})};return e.jsxs(F,{user:h.user,header:e.jsx("h2",{className:"text-xl leading-tight font-semibold text-gray-800",children:"Edit Testimony"}),children:[e.jsx(b,{title:"Edit Testimony"}),e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"mx-auto max-w-7xl sm:px-6 lg:px-8",children:e.jsx("div",{className:"overflow-hidden bg-card p-6 shadow-sm sm:rounded-lg",children:e.jsxs("form",{onSubmit:v,className:"mt-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx(l,{htmlFor:"name",children:"Name"}),e.jsx(d,{id:"name",type:"text",name:"name",value:m.name,className:"mt-1 block w-full",autoComplete:"name",onChange:s=>o("name",s.target.value),required:!0}),e.jsx(r,{message:n.name,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"position",children:"Position"}),e.jsx(d,{id:"position",type:"text",name:"position",value:m.position,className:"mt-1 block w-full",onChange:s=>o("position",s.target.value)}),e.jsx(r,{message:n.position,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"company",children:"Company"}),e.jsx(d,{id:"company",type:"text",name:"company",value:m.company,className:"mt-1 block w-full",onChange:s=>o("company",s.target.value)}),e.jsx(r,{message:n.company,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"content",children:"Content"}),e.jsx(w,{description:m.content,onChange:s=>o("content",s)}),e.jsx(r,{message:n.content,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"image",children:"Image"}),e.jsx(d,{id:"image",type:"file",name:"image",className:"mt-1 block w-full",onChange:f,accept:"image/*"}),e.jsx(r,{message:n.image,className:"mt-2"}),x&&e.jsx("div",{className:"mt-4",children:e.jsx("img",{src:x,alt:"Image Preview",className:"h-auto max-w-xs rounded-md"})})]}),e.jsx("div",{className:"flex items-center gap-4",children:e.jsx(C,{type:"submit",disabled:p,children:p?"Saving...":"Save Changes"})})]})})})})]})}export{Q as default};
