import{r as j,u as v,j as e}from"./app-DyEdge20.js";import{L as l}from"./index-Df_DPcC1.js";import{B as d}from"./button-D3OwELb8.js";import{D as g,b as f,a as b,c as N,d as y}from"./dialog-jLR9Py44.js";import{I as r}from"./input-Dg2rZCGI.js";import{T as C}from"./textarea-Cj_Xmu4W.js";/* empty css            */import"./createLucideIcon-CFm_GpvR.js";import"./index-BXIrDaaF.js";import"./index-DDBZ5q__.js";import"./floating-ui.react-dom-Bl6OpAys.js";import"./index-CT9GOt-K.js";function B({job:n,label:p}){const[x,o]=j.useState(!1),{data:t,setData:i,post:m,processing:c,reset:h,errors:s}=v({job_id:n.id,full_name:"",email:"",phone:"",pay:"",location:"",cover:"",cv:null,letter:null}),u=a=>{a.preventDefault(),console.log(t),m(route("applications.store"),{forceFormData:!0,onSuccess:()=>{h(),o(!1)}})};return e.jsxs(g,{open:x,onOpenChange:o,children:[e.jsx(f,{asChild:!0,children:n.id==="0"?e.jsx("span",{className:"inline-block cursor-pointer bg-white text-oki-blue-dark hover:bg-white/90 font-semibold px-8 py-4 rounded-md transition-colors",children:"Send Open Application"}):e.jsx(d,{className:"bg-oki-blue-dark hover:bg-oki-blue-light text-white",children:p})}),e.jsxs(b,{className:"sm:max-w-[600px]",children:[e.jsx(N,{children:e.jsxs(y,{children:["Apply for ",n.title]})}),e.jsxs("form",{onSubmit:u,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(l,{children:"Full Name"}),e.jsx(r,{value:t.full_name,onChange:a=>i("full_name",a.target.value)}),s.full_name&&e.jsx("div",{className:"text-red-500",children:s.full_name})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(l,{children:"Email"}),e.jsx(r,{type:"email",value:t.email,onChange:a=>i("email",a.target.value)}),s.email&&e.jsx("div",{className:"text-red-500",children:s.email})]}),e.jsxs("div",{children:[e.jsx(l,{children:"Phone"}),e.jsx(r,{value:t.phone,onChange:a=>i("phone",a.target.value)}),s.phone&&e.jsx("div",{className:"text-red-500",children:s.phone})]})]}),e.jsxs("div",{children:[e.jsx(l,{children:"Cover Letter"}),e.jsx(C,{value:t.cover,onChange:a=>i("cover",a.target.value)}),s.cover&&e.jsx("div",{className:"text-red-500",children:s.cover})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(l,{children:"CV/Resume (PDF)"}),e.jsx(r,{type:"file",accept:"application/pdf",onChange:a=>i("cv",a.target.files?.[0]||null)}),s.cv&&e.jsx("div",{className:"text-red-500",children:s.cv})]}),e.jsxs("div",{children:[e.jsx(l,{children:"Certifications (PDF)"}),e.jsx(r,{type:"file",accept:"application/pdf",onChange:a=>i("letter",a.target.files?.[0]||null)}),s.letter&&e.jsx("div",{className:"text-red-500",children:s.letter})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(l,{children:"Expected Pay"}),e.jsx(r,{type:"number",value:t.pay,onChange:a=>i("pay",a.target.value)}),s.pay&&e.jsx("div",{className:"text-red-500",children:s.pay})]}),e.jsxs("div",{children:[e.jsx(l,{children:"Current Location"}),e.jsx(r,{value:t.location,onChange:a=>i("location",a.target.value)}),s.location&&e.jsx("div",{className:"text-red-500",children:s.location})]})]}),e.jsx(d,{type:"submit",disabled:c,children:c?"Submitting...":"Submit Application"})]})]})]})}export{B as default};
