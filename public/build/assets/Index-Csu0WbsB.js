import{u as c,r as U,j as e,H as k}from"./app-DyEdge20.js";import{I as r}from"./input-error-CZJ0h1nX.js";import{B as p}from"./button-D3OwELb8.js";import{I as t}from"./input-Dg2rZCGI.js";import{L as o}from"./label-9SEmRnGX.js";import{A as q}from"./AuthenticatedLayout-C7gs0gXC.js";/* empty css            */import"./index-DDBZ5q__.js";import"./app-layout-DTN2oy7H.js";import"./use-mobile-DGsOrUmJ.js";import"./index-Df_DPcC1.js";import"./createLucideIcon-CFm_GpvR.js";import"./index-BXIrDaaF.js";import"./floating-ui.react-dom-Bl6OpAys.js";import"./index-CT9GOt-K.js";import"./index-czFNS7T5.js";import"./briefcase-iNO2qAEL.js";import"./users--YiqIZUM.js";import"./user-B7MtQJ5V.js";import"./chevron-right-BCyvHIkz.js";function te({auth:w,user:l}){const{data:u,setData:x,post:f,processing:j,errors:h,reset:I}=c({name:l.name,email:l.email}),{data:m,setData:d,post:g,processing:N,errors:i,reset:P}=c({current_password:"",password:"",password_confirmation:""}),{data:L,setData:b,post:A,processing:C,errors:y,reset:R}=c({avatar:null}),[_,v]=U.useState(l.avatar||null),D=a=>{a.preventDefault(),f(route("admin.profile.update"),{onSuccess:()=>{},onError:s=>{console.error("Profile update errors:",s)}})},F=a=>{a.preventDefault(),g(route("admin.profile.updatePassword"),{onSuccess:()=>{P()},onError:s=>{console.error("Password update errors:",s)}})},E=a=>{const s=a.target.files?.[0]||null;if(b("avatar",s),s){const n=new FileReader;n.onloadend=()=>{v(n.result)},n.readAsDataURL(s)}else v(null)},S=a=>{a.preventDefault(),A(route("admin.profile.updateAvatar"),{forceFormData:!0,onSuccess:()=>{},onError:s=>{console.error("Avatar upload errors:",s)}})};return e.jsxs(q,{user:w.user,header:e.jsx("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:"Profile"}),children:[e.jsx(k,{title:"Profile"}),e.jsx("div",{className:"py-12",children:e.jsxs("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8 space-y-6",children:[e.jsxs("div",{className:"p-4 sm:p-8  shadow sm:rounded-lg",children:[e.jsx("h3",{className:"text-lg font-medium  mb-4",children:"Profile Information"}),e.jsxs("form",{onSubmit:D,className:"mt-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx(o,{htmlFor:"name",children:"Name"}),e.jsx(t,{id:"name",type:"text",className:"mt-1 block w-full",value:u.name,onChange:a=>x("name",a.target.value),required:!0,autoFocus:!0,autoComplete:"name"}),e.jsx(r,{className:"mt-2",message:h.name})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"email",children:"Email"}),e.jsx(t,{id:"email",type:"email",className:"mt-1 block w-full",value:u.email,onChange:a=>x("email",a.target.value),required:!0,autoComplete:"username"}),e.jsx(r,{className:"mt-2",message:h.email})]}),e.jsx("div",{className:"flex items-center gap-4",children:e.jsx(p,{disabled:j,children:"Save"})})]})]}),e.jsxs("div",{className:"p-4 sm:p-8 shadow sm:rounded-lg",children:[e.jsx("h3",{className:"text-lg font-medium  mb-4",children:"Update Password"}),e.jsxs("form",{onSubmit:F,className:"mt-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx(o,{htmlFor:"current_password",children:"Current Password"}),e.jsx(t,{id:"current_password",type:"password",className:"mt-1 block w-full",value:m.current_password,onChange:a=>d("current_password",a.target.value),required:!0,autoComplete:"current-password"}),e.jsx(r,{className:"mt-2",message:i.current_password})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"password",children:"New Password"}),e.jsx(t,{id:"password",type:"password",className:"mt-1 block w-full",value:m.password,onChange:a=>d("password",a.target.value),required:!0,autoComplete:"new-password"}),e.jsx(r,{className:"mt-2",message:i.password})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"password_confirmation",children:"Confirm Password"}),e.jsx(t,{id:"password_confirmation",type:"password",className:"mt-1 block w-full",value:m.password_confirmation,onChange:a=>d("password_confirmation",a.target.value),required:!0,autoComplete:"new-password"}),e.jsx(r,{className:"mt-2",message:i.password_confirmation})]}),e.jsx("div",{className:"flex items-center gap-4",children:e.jsx(p,{disabled:N,children:"Save"})})]})]}),e.jsxs("div",{className:"p-4 sm:p-8 shadow sm:rounded-lg",children:[e.jsx("h3",{className:"text-lg font-medium mb-4",children:"Update Avatar"}),e.jsxs("form",{onSubmit:S,className:"mt-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("img",{className:"h-20 w-20 rounded-full object-cover",src:_||"/images/default-avatar.png",alt:"User Avatar"})}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"avatar",children:"New Avatar"}),e.jsx(t,{id:"avatar",type:"file",name:"avatar",className:"mt-1 block w-full",onChange:E,accept:"image/*"}),e.jsx(r,{className:"mt-2",message:y.avatar})]})]}),e.jsx("div",{className:"flex items-center gap-4",children:e.jsx(p,{disabled:C,children:"Upload Avatar"})})]})]})]})})]})}export{te as default};
