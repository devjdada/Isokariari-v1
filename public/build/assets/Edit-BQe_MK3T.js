import{u as N,r as y,j as e,H as b,a as g}from"./app-_SHXlIMi.js";import{T as w}from"./tiptap-pOzmqHF-.js";import{I as r}from"./input-error-BGG48Xue.js";import{B as k}from"./button-D90eb9uh.js";import{I as c}from"./input-if9ZDulC.js";import{L as l}from"./label-BbDwcLxf.js";import{A as C}from"./AuthenticatedLayout-CPCLZqyP.js";/* empty css            */import"./index-CNvgb3hZ.js";import"./index-Ri9twfyI.js";import"./floating-ui.react-dom-DzZXuo7M.js";import"./app-layout-DwKOLOaJ.js";import"./use-mobile-BmM3Cx0C.js";import"./index-DxYDQp86.js";import"./createLucideIcon-Cxr0x7Gx.js";import"./index-CE-JyWoC.js";import"./index-DYWYdy9I.js";import"./briefcase-3h3coz6E.js";import"./users-DG3kscKL.js";import"./user-DwfZl6oT.js";import"./chevron-right-B9kvcExf.js";function V({auth:h,equipment:a}){const{data:n,setData:m,processing:p,errors:o,reset:E}=N({name:a.name,position:a.position||"",company:a.company||"",link:a.link||"",content:a.content||"",image:null}),j=a.image?`/storage/${a.image}`:null,[x,u]=y.useState(j),f=s=>{const i=s.target.files?.[0]||null;if(m("image",i),i){const t=new FileReader;t.onloadend=()=>{u(t.result)},t.readAsDataURL(i)}else u(null)},v=s=>{s.preventDefault();const i=new FormData;Object.entries(n).forEach(([t,d])=>{t==="image"&&d===null||d!=null&&i.append(t,d)}),i.append("_method","PUT"),g.post(route("admin.equipment.update",a.id),i,{onSuccess:()=>{g.visit(route("admin.equipment.index"))},onError:t=>{console.error("Form submission errors:",t)}})};return e.jsxs(C,{user:h.user,header:e.jsx("h2",{className:"text-xl leading-tight font-semibold text-gray-800",children:"Edit Equipment"}),children:[e.jsx(b,{title:"Edit Equipment"}),e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"mx-auto max-w-7xl sm:px-6 lg:px-8",children:e.jsx("div",{className:"overflow-hidden bg-card p-6 shadow-sm sm:rounded-lg",children:e.jsxs("form",{onSubmit:v,className:"mt-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx(l,{htmlFor:"name",children:"Name"}),e.jsx(c,{id:"name",type:"text",name:"name",value:n.name,className:"mt-1 block w-full",autoComplete:"name",onChange:s=>m("name",s.target.value),required:!0}),e.jsx(r,{message:o.name,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"position",children:"Position"}),e.jsx(c,{id:"position",type:"text",name:"position",value:n.position,className:"mt-1 block w-full",onChange:s=>m("position",s.target.value)}),e.jsx(r,{message:o.position,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"company",children:"Company"}),e.jsx(c,{id:"company",type:"text",name:"company",value:n.company,className:"mt-1 block w-full",onChange:s=>m("company",s.target.value)}),e.jsx(r,{message:o.company,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"link",children:"Link"}),e.jsx(c,{id:"link",type:"url",name:"link",value:n.link,className:"mt-1 block w-full",onChange:s=>m("link",s.target.value)}),e.jsx(r,{message:o.link,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"content",children:"Content"}),e.jsx(w,{description:n.content,onChange:s=>m("content",s)}),e.jsx(r,{message:o.content,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"image",children:"Image"}),e.jsx(c,{id:"image",type:"file",name:"image",className:"mt-1 block w-full",onChange:f,accept:"image/*"}),e.jsx(r,{message:o.image,className:"mt-2"}),x&&e.jsx("div",{className:"mt-4",children:e.jsx("img",{src:x,alt:"Image Preview",className:"h-auto max-w-xs rounded-md"})})]}),e.jsx("div",{className:"flex items-center gap-4",children:e.jsx(k,{type:"submit",disabled:p,children:p?"Saving...":"Save Changes"})})]})})})})]})}export{V as default};
