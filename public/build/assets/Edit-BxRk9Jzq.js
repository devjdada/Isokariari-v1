import{u as I,r as y,j as e,H as D,a as P}from"./app-ikZaHAeh.js";import{T}from"./tiptap-Daoi8nX_.js";import{I as r}from"./input-error-CTgsu7Tr.js";import{B as E}from"./button-CuPzQEo1.js";import{I as x}from"./input-Dl0zFxrs.js";import{L as o}from"./label-W5pDfIJK.js";import{S as h,a as p,b as g,c as j,d as n}from"./select-BiHVv5bt.js";import{S as L}from"./switch-DLc-qMM7.js";import{T as k}from"./textarea-BIxmPG6I.js";import{A as _}from"./AuthenticatedLayout-CRa6ylw_.js";/* empty css            */import"./index-DAnG4KlX.js";import"./index-BhTzi93d.js";import"./floating-ui.react-dom-CbTUF4yy.js";import"./index-BdQq_4o_.js";import"./index-DUzO91nk.js";import"./index-C6nWi0Bi.js";import"./createLucideIcon-Cj1hmbng.js";import"./index-Ncwpqk6S.js";import"./app-layout-DuJoi0FZ.js";import"./use-mobile-B9xFdgbH.js";import"./index-DbiaGNIM.js";import"./briefcase-DsdAm3s8.js";import"./users-BoWPtOvO.js";import"./user-0xmYekUr.js";import"./chevron-right-JRmTy2xe.js";import"./chevron-down-BsAxhN19.js";import"./check-9OvN1Rti.js";import"./chevron-up-DYoOISwH.js";const U=d=>d.toString().normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().trim().replace(/\s+/g,"-").replace(/[^\w-]+/g,"").replace(/--+/g,"-");function xe({auth:d,project:a,clients:S,users:V,categories:w}){const{data:t,setData:l,processing:f,errors:i,reset:A}=I({title:a.title,description:a.description,doc:a.doc,image:null,location:a.location||"",complete:a.complete||"",slug:a.slug,status:a.status,type:a.type,category:a.category,clientId:String(a.clientId||""),post_by:String(a.post_by||""),edit_by:d.user?String(d.user.id):""}),C=`/storage/${a.image}`,[v,N]=y.useState(C);y.useEffect(()=>{t.title&&l("slug",U(t.title))},[t.title]);const b=s=>{const c=s.target.files?.[0]||null;if(l("image",c),c){const m=new FileReader;m.onloadend=()=>{N(m.result)},m.readAsDataURL(c)}else N(null)},F=s=>{s.preventDefault();const c=new FormData;Object.entries(t).forEach(([m,u])=>{m==="image"&&u===null||u!=null&&c.append(m,u)}),c.append("_method","PUT"),P.post(route("admin.projects.update",a.id),c,{forceFormData:!0})};return e.jsxs(_,{user:d.user,header:e.jsx("h2",{className:"text-xl leading-tight font-semibold",children:"Edit Project"}),children:[e.jsx(D,{title:"Edit Project"}),e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"mx-auto max-w-7xl sm:px-6 lg:px-8",children:e.jsx("div",{className:"overflow-hidden p-6 shadow-sm sm:rounded-lg",children:e.jsxs("form",{onSubmit:F,className:"mt-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx(o,{htmlFor:"title",children:"Title"}),e.jsx(x,{id:"title",type:"text",name:"title",value:t.title,className:"mt-1 block w-full",autoComplete:"title",onChange:s=>l("title",s.target.value),required:!0}),e.jsx(r,{message:i.title,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"description",children:"Description"}),e.jsx(k,{id:"description",name:"description",value:t.description,className:"mt-1 block w-full",onChange:s=>l("description",s.target.value),required:!0,rows:5}),e.jsx(r,{message:i.description,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"doc",children:"Project Details"}),e.jsx(T,{onChange:({editor:s})=>l("doc",s.getHTML()),description:t.doc||""}),e.jsx(r,{message:i.doc,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"image",children:"Image"}),e.jsx(x,{id:"image",type:"file",name:"image",className:"mt-1 block w-full",onChange:b,accept:"image/*"}),e.jsx(r,{message:i.image,className:"mt-2"}),v&&e.jsx("div",{className:"mt-4",children:e.jsx("img",{src:v,alt:"Image Preview",className:"h-auto max-w-xs rounded-md"})})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"location",children:"Location"}),e.jsx(x,{id:"location",type:"text",name:"location",value:t.location,className:"mt-1 block w-full",onChange:s=>l("location",s.target.value)}),e.jsx(r,{message:i.location,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"complete",children:"Completion Status"}),e.jsxs(h,{onValueChange:s=>l("complete",s),value:t.complete,children:[e.jsx(p,{className:"w-full",children:e.jsx(g,{placeholder:"Select completion status"})}),e.jsxs(j,{children:[e.jsx(n,{value:"on-going",children:"On-going"}),e.jsx(n,{value:"completed",children:"Completed"})]})]}),e.jsx(r,{message:i.complete,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"slug",children:"Slug"}),e.jsx(x,{id:"slug",type:"text",name:"slug",value:t.slug,className:"mt-1 block w-full",onChange:s=>l("slug",s.target.value),required:!0}),e.jsx(r,{message:i.slug,className:"mt-2"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(L,{id:"status",checked:t.status,onCheckedChange:s=>l("status",s)}),e.jsx(o,{htmlFor:"status",children:"Status (Active/Inactive)"}),e.jsx(r,{message:i.status,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"type",children:"Type"}),e.jsxs(h,{onValueChange:s=>l("type",s),value:t.type,children:[e.jsx(p,{className:"w-full",children:e.jsx(g,{placeholder:"Select a type"})}),e.jsxs(j,{children:[e.jsx(n,{value:"project",children:"Project"}),e.jsx(n,{value:"case_study",children:"Case Study"})]})]}),e.jsx(r,{message:i.type,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"category",children:"Category"}),e.jsxs(h,{onValueChange:s=>l("category",s),value:t.category,children:[e.jsx(p,{className:"w-full",children:e.jsx(g,{placeholder:"Select a category"})}),e.jsx(j,{children:w.map(s=>e.jsx(n,{value:String(s.id),children:s.name},s.id))})]}),e.jsx(r,{message:i.category,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"clientId",children:"Client"}),e.jsxs(h,{onValueChange:s=>l("clientId",s),value:t.clientId,children:[e.jsx(p,{className:"w-full",children:e.jsx(g,{placeholder:"Select a client"})}),e.jsx(j,{children:S.map(s=>e.jsx(n,{value:String(s.id),children:s.name},s.id))})]}),e.jsx(r,{message:i.clientId,className:"mt-2"})]}),e.jsx("div",{className:"flex items-center gap-4",children:e.jsx(E,{type:"submit",disabled:f,children:f?"Saving...":"Save Changes"})})]})})})})]})}export{xe as default};
